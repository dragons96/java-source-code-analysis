<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Java Source Code Analysis |  </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    

    <!-- fonts -->
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,600,700" rel="stylesheet">

    <!-- stylesheets -->
    <link rel="stylesheet" href="/java-source-code-analysis/style/doc.css">

    <!-- favicon -->
    <link rel="icon" href="/java-source-code-analysis/favicon.ico">

    

  <meta name="generator" content="Hexo 6.2.0"></head>
  <body>

   <script>window.__INITIAL_STATE__ = {"page":{"path":"java/util/concurrent/Exchanger.html","title":""},"data":{"navigation":{"logo":{"text":"Java 源码分析","type":"link","path":"index.html"}}},"config":{"timezone":"Asia/Shanghai","root":"/java-source-code-analysis/","time_format":"HH:mm:ss","theme":"doc","theme_config":{"swagger_ui":{"version":2,"permalinks":true,"api_explorer":true,"download":"Download specification","show_extensions":false,"deep_linking":true,"display_operation_id":false,"doc_expansion":"none"},"search":{"skip":false,"background":false,"route":"/lunr.json"},"favicon":"/favicon.ico"}}}</script>

    <div id="react-navigation-root"><div class="doc-navigation" data-reactroot=""><nav class="doc-navbar"><a href="/java-source-code-analysis/index.html" class="doc-navbar__logo"><img src="/java-source-code-analysis/images/logo.png" class="doc-navbar__logo__img"/><span class="doc-navbar__logo__text">Java 源码分析</span></a><i class="dc-icon dc-icon--close dc-icon--interactive doc-sidebar-close doc-navbar__sidebar-close doc-navbar__sidebar-close--desktop"></i><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-navbar__sidebar-toggle"></i></nav><nav class="doc-sidebar"><div class="doc-sidebar__vertical-menu"><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-sidebar-toggle--primary doc-sidebar__vertical-menu__item"></i><i class="dc-icon dc-icon--search dc-icon--interactive doc-sidebar__vertical-menu__item doc-sidebar__vertical-menu__item--primary"></i></div><div class="doc-sidebar-content"><div class="doc-sidebar__search-form"></div><ul class="doc-sidebar-list"></ul></div></nav></div></div>
    <div class="doc-content">
  <div class="dc-page">
    <div class="dc-card">
      <div id="react-search-results-root"></div>
      <div id="page-content" class="doc-formatting">
        <h2 id="Exchanger"><a href="#Exchanger" class="headerlink" title="Exchanger"></a>Exchanger<V></h2><table>
<thead>
<tr>
<th align="center">类名</th>
<th align="center">类型</th>
<th align="center">泛型</th>
<th align="center">权限</th>
<th align="center">static</th>
<th align="center">final</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>java.util.concurrent.Exchanger&lt;V&gt;</strong></td>
<td align="center">class</td>
<td align="center">&lt;V&gt;</td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center"></td>
</tr>
</tbody></table>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">默认值</th>
<th align="center">权限</th>
<th align="center">static</th>
<th align="center">final</th>
<th align="center">volatile</th>
<th align="center">synchronized</th>
<th align="center">transient</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>ASHIFT: int</strong></td>
<td align="center">7</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">竞技场中任意两个已用插槽之间的字节距离（作为移位值）。1＜＜ASHIFT应至少为缓存线大小。</td>
</tr>
<tr>
<td align="center"><strong>MMASK: int</strong></td>
<td align="center">0xff</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">支持的最大竞技场索引。最大可分配竞技场大小为MMASK+1。必须是二减一的幂，小于（1&lt;&lt;（31-ft））。255（0xff）的上限足以满足主要算法的预期缩放限制。</td>
</tr>
<tr>
<td align="center"><strong>SEQ: int</strong></td>
<td align="center">MMASK + 1</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">绑定字段的序列&#x2F;版本位的单位。对边界的每次成功更改也会添加SEQ。</td>
</tr>
<tr>
<td align="center"><strong>NCPU: int</strong></td>
<td align="center">Runtime.getRuntime().availableProcessors()</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">用于调整大小和旋转控制的CPU数</td>
</tr>
<tr>
<td align="center"><strong>FULL: int</strong></td>
<td align="center">(MMASK &lt;&lt; 1)) ? MMASK : NCPU &gt;&gt;&gt; 1</td>
<td align="center">default</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">竞技场的最大插槽索引：原则上可以容纳所有线程而不发生争用的插槽数，或者最多为最大可索引值。</td>
</tr>
<tr>
<td align="center"><strong>SPINS: int</strong></td>
<td align="center">1 &lt;&lt; 10</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">等待比赛时旋转的边界。由于随机化，实际迭代次数平均约为该值的两倍。注：当NCPU&#x3D;&#x3D;1时，旋转被禁用。</td>
</tr>
<tr>
<td align="center"><strong>NULL_ITEM: Object</strong></td>
<td align="center">new Object()</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">该值表示公共方法的null参数&#x2F;返回。需要，因为API最初不允许空参数，它应该有空参数。</td>
</tr>
<tr>
<td align="center"><strong>TIMED_OUT: Object</strong></td>
<td align="center">new Object()</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">内部交换方法在超时时返回的Sentinel值，以避免需要这些方法的单独定时版本。</td>
</tr>
<tr>
<td align="center"><strong>participant: Participant</strong></td>
<td align="center">null</td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">每线程状态</td>
</tr>
<tr>
<td align="center"><strong>arena: Node[]</strong></td>
<td align="center">null</td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">消除阵列；在启用之前为空（在slotExchange中）。元素访问使用易失性GET和CAS的仿真。</td>
</tr>
<tr>
<td align="center"><strong>slot: Node</strong></td>
<td align="center">null</td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">在检测到争用之前一直使用该插槽。</td>
</tr>
<tr>
<td align="center"><strong>bound: int</strong></td>
<td align="center">0</td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">最大有效竞技场位置的索引，或用高位的序号表示，在每次更新时递增。从0到SEQ的初始更新用于确保竞技场阵列仅构建一次。</td>
</tr>
<tr>
<td align="center"><strong>U: sun.misc.Unsafe</strong></td>
<td align="center">null</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>BOUND: long</strong></td>
<td align="center">0</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>SLOT: long</strong></td>
<td align="center">0</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>MATCH: long</strong></td>
<td align="center">0</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>BLOCKER: long</strong></td>
<td align="center">0</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>ABASE: int</strong></td>
<td align="center">0</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
</tbody></table>
<h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">权限</th>
<th align="center">static</th>
<th align="center">final</th>
<th align="center">volatile</th>
<th align="center">synchronized</th>
<th align="center">transient</th>
<th align="center">abstract</th>
<th align="left">描述</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>arenaExchange(Object item, boolean timed, long ns): Object</strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">启用竞技场时的交换功能。请参见上面的解释。</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>slotExchange(Object item, boolean timed, long ns): Object</strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">交换功能在启用竞技场之前一直使用。请参见上面的解释。</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>Exchanger()</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">创建一个新的交换机。</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>exchange(V x): V</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">等待另一个线程到达该交换点（除非当前线程是“线程中断”），然后将给定对象传输给它，并接收其对象作为回报<p> 如果另一个线程已经在交换点等待，那么为了线程调度的目的，它将被恢复，并接收当前线程传入的对象。当前线程立即返回，接收另一个线程传递给exchange的对象<p> 如果没有其他线程已在交换机上等待，则出于线程调度目的，当前线程将被禁用，并处于休眠状态，直到发生以下两种情况之一：<ul><li>其他线程进入交换机；或＜li＞某个其他线程的“线程中断”中断当前线程</ul><p>如果当前线程：<ul><li>在进入此方法时设置了其中断状态；或者＜li＞在等待交换时是“线程中断”，然后抛出“中断异常”，清除当前线程的中断状态。</td>
<td align="left">InterruptedException</td>
</tr>
<tr>
<td align="center"><strong>exchange(V x, long timeout, TimeUnit unit): V</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">等待另一个线程到达该交换点（除非当前线程是“线程中断中断”或经过指定的等待时间），然后将给定对象传输给它，并接收其对象作为回报<p> 如果另一个线程已经在交换点等待，那么为了线程调度的目的，它将被恢复，并接收当前线程传入的对象。当前线程立即返回，接收另一个线程传递给exchange的对象<p> 如果没有其他线程已在交换机上等待，则出于线程调度目的，当前线程将被禁用，并处于休眠状态，直到发生以下三种情况之一：<ul><li>其他线程进入交换机；或＜li＞某个其他线程的“线程中断”中断当前线程；或＜li＞经过指定的等待时间</ul><p>如果当前线程：<ul><li>在进入此方法时设置了其中断状态；或者＜li＞在等待交换时是“线程中断”，然后抛出“中断异常”，清除当前线程的中断状态<p> 如果指定的等待时间已过，则抛出“TimeoutException”。如果时间小于或等于零，则该方法将根本不等待。</td>
<td align="left">InterruptedException<br/>TimeoutException</td>
</tr>
</tbody></table>
<h4 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h4><h3 id="Exchanger-Node"><a href="#Exchanger-Node" class="headerlink" title="Exchanger$Node"></a><a href="./Exchanger$Node.html">Exchanger$Node</a></h3><h3 id="Exchanger-Participant"><a href="#Exchanger-Participant" class="headerlink" title="Exchanger$Participant"></a><a href="./Exchanger$Participant.html">Exchanger$Participant</a></h3>
        <div id="react-support-footer-root"></div>
      </div>
    </div>
  </div>
</div>

    


    

    <!-- js vendors -->
    <script src="//code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lunr.js/2.1.0/lunr.min.js"></script>

    <!-- js source  -->
    <script src="/java-source-code-analysis/script/doc.js"></script>

    

  </body>
</html>
