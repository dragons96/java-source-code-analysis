<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Java Source Code Analysis |  </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    

    <!-- fonts -->
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,600,700" rel="stylesheet">

    <!-- stylesheets -->
    <link rel="stylesheet" href="/java-source-code-analysis/style/doc.css">

    <!-- favicon -->
    <link rel="icon" href="/java-source-code-analysis/favicon.ico">

    

  <meta name="generator" content="Hexo 6.2.0"></head>
  <body>

   <script>window.__INITIAL_STATE__ = {"page":{"path":"java/util/concurrent/Phaser.html","title":""},"data":{"navigation":{"logo":{"text":"Java 源码分析","type":"link","path":"index.html"},"main":[{"text":"java","type":"label","children":[{"text":"util","type":"label","children":[{"text":"concurrent","type":"label","children":[{"text":"AbstractExecutorService","type":"link","path":"AbstractExecutorService.html"}]}]}]}]}},"config":{"timezone":"Asia/Shanghai","root":"/java-source-code-analysis/","time_format":"HH:mm:ss","theme":"doc","theme_config":{"swagger_ui":{"version":2,"permalinks":true,"api_explorer":true,"download":"Download specification","show_extensions":false,"deep_linking":true,"display_operation_id":false,"doc_expansion":"none"},"search":{"skip":false,"background":false,"route":"/lunr.json"},"favicon":"/favicon.ico"}}}</script>

    <div id="react-navigation-root"><div class="doc-navigation" data-reactroot=""><nav class="doc-navbar"><a href="/java-source-code-analysis/index.html" class="doc-navbar__logo"><img src="/java-source-code-analysis/images/logo.png" class="doc-navbar__logo__img"/><span class="doc-navbar__logo__text">Java 源码分析</span></a><i class="dc-icon dc-icon--close dc-icon--interactive doc-sidebar-close doc-navbar__sidebar-close doc-navbar__sidebar-close--desktop"></i><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-navbar__sidebar-toggle"></i></nav><nav class="doc-sidebar"><div class="doc-sidebar__vertical-menu"><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-sidebar-toggle--primary doc-sidebar__vertical-menu__item"></i><i class="dc-icon dc-icon--search dc-icon--interactive doc-sidebar__vertical-menu__item doc-sidebar__vertical-menu__item--primary"></i></div><div class="doc-sidebar-content"><div class="doc-sidebar__search-form"></div><ul class="doc-sidebar-list"></ul></div></nav></div></div>
    <div class="doc-content">
  <div class="dc-page">
    <div class="dc-card">
      <div id="react-search-results-root"></div>
      <div id="page-content" class="doc-formatting">
        <h2 id="Phaser"><a href="#Phaser" class="headerlink" title="Phaser"></a>Phaser</h2><table>
<thead>
<tr>
<th align="center">类名</th>
<th align="center">类型</th>
<th align="center">权限</th>
<th align="center">static</th>
<th align="center">final</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>java.util.concurrent.Phaser</strong></td>
<td align="center">class</td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center"></td>
</tr>
</tbody></table>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">默认值</th>
<th align="center">权限</th>
<th align="center">static</th>
<th align="center">final</th>
<th align="center">volatile</th>
<th align="center">synchronized</th>
<th align="center">transient</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>state: long</strong></td>
<td align="center">0</td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Primary state representation, holding four bit-fields:  unarrived  – the number of parties yet to hit barrier (bits  0-15) parties    – the number of parties to wait            (bits 16-31) phase      – the generation of the barrier            (bits 32-62) terminated – set if barrier is terminated             (bit  63 &#x2F; sign)  Except that a phaser with no registered parties is distinguished by the otherwise illegal state of having zero parties and one unarrived parties (encoded as EMPTY below).  To efficiently maintain atomicity, these values are packed into a single (atomic) long. Good performance relies on keeping state decoding and encoding simple, and keeping race windows short.  All state updates are performed via CAS except initial registration of a sub-phaser (i.e., one with a non-null parent).  In this (relatively rare) case, we use built-in synchronization to lock while first registering with its parent.  The phase of a subphaser is allowed to lag that of its ancestors until it is actually accessed – see method reconcileState.</td>
</tr>
<tr>
<td align="center"><strong>: int</strong></td>
<td align="center">0xffff</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>: int</strong></td>
<td align="center">Integer.MAX_VALUE</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>: int</strong></td>
<td align="center">16</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>: int</strong></td>
<td align="center">32</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>: int</strong></td>
<td align="center">0xffff</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>PARTIES_MASK: long</strong></td>
<td align="center">0xffff0000L</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>COUNTS_MASK: long</strong></td>
<td align="center">0xffffffffL</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>TERMINATION_BIT: long</strong></td>
<td align="center">1L &lt;&lt; 63</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>: int</strong></td>
<td align="center">1</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>: int</strong></td>
<td align="center">1 &lt;&lt; PARTIES_SHIFT</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>: int</strong></td>
<td align="center">ONE_ARRIVAL</td>
<td align="center">ONE_PARTY</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">否</td>
</tr>
<tr>
<td align="center"><strong>: int</strong></td>
<td align="center">1</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>parent: Phaser</strong></td>
<td align="center">null</td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">The parent of this phaser, or null if none</td>
</tr>
<tr>
<td align="center"><strong>root: Phaser</strong></td>
<td align="center">null</td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">The root of phaser tree. Equals this if not in a tree.</td>
</tr>
<tr>
<td align="center"><strong>evenQ: AtomicReference&lt;QNode&gt;</strong></td>
<td align="center">null</td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Heads of Treiber stacks for waiting threads. To eliminate contention when releasing some threads while adding others, we use two of them, alternating across even and odd phases. Subphasers share queues with root to speed up releases.</td>
</tr>
<tr>
<td align="center"><strong>oddQ: AtomicReference&lt;QNode&gt;</strong></td>
<td align="center">null</td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>NCPU: int</strong></td>
<td align="center">Runtime.getRuntime().availableProcessors()</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">The number of CPUs, for spin control</td>
</tr>
<tr>
<td align="center"><strong>SPINS_PER_ARRIVAL: int</strong></td>
<td align="center">(NCPU &lt; 2) ? 1 : 1 &lt;&lt; 8</td>
<td align="center">default</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">The number of times to spin before blocking while waiting for advance, per arrival while waiting. On multiprocessors, fully blocking and waking up a large number of threads all at once is usually a very slow process, so we use rechargeable spins to avoid it when threads regularly arrive: When a thread in internalAwaitAdvance notices another arrival before blocking, and there appear to be enough CPUs available, it spins SPINS_PER_ARRIVAL more times before blocking. The value trades off good-citizenship vs big unnecessary slowdowns.</td>
</tr>
<tr>
<td align="center"><strong>UNSAFE: sun.misc.Unsafe</strong></td>
<td align="center">null</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Wait nodes for Treiber stack representing wait queue</td>
</tr>
<tr>
<td align="center"><strong>stateOffset: long</strong></td>
<td align="center">0</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
</tr>
</tbody></table>
<h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">权限</th>
<th align="center">static</th>
<th align="center">final</th>
<th align="center">volatile</th>
<th align="center">synchronized</th>
<th align="center">transient</th>
<th align="center">abstract</th>
<th align="left">描述</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>unarrivedOf(long s): int</strong></td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>partiesOf(long s): int</strong></td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>phaseOf(long s): int</strong></td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>arrivedOf(long s): int</strong></td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>queueFor(int phase): AtomicReference<QNode></strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>badArrive(long s): String</strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Returns message string for bounds exceptions on arrival.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>badRegister(long s): String</strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Returns message string for bounds exceptions on registration.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>doArrive(int adjust): int</strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Main implementation for methods arrive and arriveAndDeregister. Manually tuned to speed up and minimize race windows for the common case of just decrementing unarrived field.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>doRegister(int registrations): int</strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Implementation of register, bulkRegister</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>reconcileState(): long</strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Resolves lagged phase propagation from root if necessary. Reconciliation normally occurs when root has advanced but subphasers have not yet done so, in which case they must finish their own advance by setting unarrived to parties (or if parties is zero, resetting to unregistered EMPTY state).</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>Phaser()</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Creates a new phaser with no initially registered parties, no parent, and initial phase number 0. Any thread using this phaser will need to first register for it.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>Phaser(int parties)</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Creates a new phaser with the given number of registered unarrived parties, no parent, and initial phase number 0.</td>
<td align="left">IllegalArgumentException</td>
</tr>
<tr>
<td align="center"><strong>Phaser(Phaser parent)</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Equivalent to ‘#Phaser(Phaser, int) Phaser(parent, 0)’.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>Phaser(Phaser parent, int parties)</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Creates a new phaser with the given parent and number of registered unarrived parties.  When the given parent is non-null and the given number of parties is greater than zero, this child phaser is registered with its parent.</td>
<td align="left">IllegalArgumentException</td>
</tr>
<tr>
<td align="center"><strong>register(): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Adds a new unarrived party to this phaser.  If an ongoing invocation of ‘#onAdvance’ is in progress, this method may await its completion before returning.  If this phaser has a parent, and this phaser previously had no registered parties, this child phaser is also registered with its parent. If this phaser is terminated, the attempt to register has no effect, and a negative value is returned.</td>
<td align="left">IllegalStateException</td>
</tr>
<tr>
<td align="center"><strong>bulkRegister(int parties): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Adds the given number of new unarrived parties to this phaser. If an ongoing invocation of ‘#onAdvance’ is in progress, this method may await its completion before returning.  If this phaser has a parent, and the given number of parties is greater than zero, and this phaser previously had no registered parties, this child phaser is also registered with its parent. If this phaser is terminated, the attempt to register has no effect, and a negative value is returned.</td>
<td align="left">IllegalArgumentException<br/>IllegalStateException</td>
</tr>
<tr>
<td align="center"><strong>arrive(): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Arrives at this phaser, without waiting for others to arrive.  <p>It is a usage error for an unregistered party to invoke this method.  However, this error may result in an ‘IllegalStateException’ only upon some subsequent operation on this phaser, if ever.</td>
<td align="left">IllegalStateException</td>
</tr>
<tr>
<td align="center"><strong>arriveAndDeregister(): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Arrives at this phaser and deregisters from it without waiting for others to arrive. Deregistration reduces the number of parties required to advance in future phases.  If this phaser has a parent, and deregistration causes this phaser to have zero parties, this phaser is also deregistered from its parent.  <p>It is a usage error for an unregistered party to invoke this method.  However, this error may result in an ‘IllegalStateException’ only upon some subsequent operation on this phaser, if ever.</td>
<td align="left">IllegalStateException</td>
</tr>
<tr>
<td align="center"><strong>arriveAndAwaitAdvance(): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Arrives at this phaser and awaits others. Equivalent in effect to ‘awaitAdvance(arrive())’.  If you need to await with interruption or timeout, you can arrange this with an analogous construction using one of the other forms of the ‘awaitAdvance’ method.  If instead you need to deregister upon arrival, use ‘awaitAdvance(arriveAndDeregister())’.  <p>It is a usage error for an unregistered party to invoke this method.  However, this error may result in an ‘IllegalStateException’ only upon some subsequent operation on this phaser, if ever.</td>
<td align="left">IllegalStateException</td>
</tr>
<tr>
<td align="center"><strong>awaitAdvance(int phase): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Awaits the phase of this phaser to advance from the given phase value, returning immediately if the current phase is not equal to the given phase value or this phaser is terminated.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>awaitAdvanceInterruptibly(int phase): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Awaits the phase of this phaser to advance from the given phase value, throwing ‘InterruptedException’ if interrupted while waiting, or returning immediately if the current phase is not equal to the given phase value or this phaser is terminated.</td>
<td align="left">InterruptedException</td>
</tr>
<tr>
<td align="center"><strong>awaitAdvanceInterruptibly(int phase,long timeout, TimeUnit unit): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Awaits the phase of this phaser to advance from the given phase value or the given timeout to elapse, throwing ‘InterruptedException’ if interrupted while waiting, or returning immediately if the current phase is not equal to the given phase value or this phaser is terminated.</td>
<td align="left">TimeoutException<br/>InterruptedException</td>
</tr>
<tr>
<td align="center"><strong>forceTermination(): void</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Forces this phaser to enter termination state.  Counts of registered parties are unaffected.  If this phaser is a member of a tiered set of phasers, then all of the phasers in the set are terminated.  If this phaser is already terminated, this method has no effect.  This method may be useful for coordinating recovery after one or more tasks encounter unexpected exceptions.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>getPhase(): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Returns the current phase number. The maximum phase number is ‘Integer.MAX_VALUE’, after which it restarts at zero. Upon termination, the phase number is negative, in which case the prevailing phase prior to termination may be obtained via ‘getPhase() + Integer.MIN_VALUE’.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>getRegisteredParties(): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Returns the number of parties registered at this phaser.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>getArrivedParties(): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Returns the number of registered parties that have arrived at the current phase of this phaser. If this phaser has terminated, the returned value is meaningless and arbitrary.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>getUnarrivedParties(): int</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Returns the number of registered parties that have not yet arrived at the current phase of this phaser. If this phaser has terminated, the returned value is meaningless and arbitrary.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>getParent(): Phaser</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Returns the parent of this phaser, or ‘null’ if none.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>getRoot(): Phaser</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Returns the root ancestor of this phaser, which is the same as this phaser if it has no parent.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>isTerminated(): boolean</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Returns ‘true’ if this phaser has been terminated.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>onAdvance(int phase, int registeredParties): boolean</strong></td>
<td align="center">protected</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Overridable method to perform an action upon impending phase advance, and to control termination. This method is invoked upon arrival of the party advancing this phaser (when all other waiting parties are dormant).  If this method returns ‘true’, this phaser will be set to a final termination state upon advance, and subsequent calls to ‘#isTerminated’ will return true. Any (unchecked) Exception or Error thrown by an invocation of this method is propagated to the party attempting to advance this phaser, in which case no advance occurs.  <p>The arguments to this method provide the state of the phaser prevailing for the current transition.  The effects of invoking arrival, registration, and waiting methods on this phaser from within ‘onAdvance’ are unspecified and should not be relied on.  <p>If this phaser is a member of a tiered set of phasers, then ‘onAdvance’ is invoked only for its root phaser on each advance.  <p>To support the most common use cases, the default implementation of this method returns ‘true’ when the number of registered parties has become zero as the result of a party invoking ‘arriveAndDeregister’.  You can disable this behavior, thus enabling continuation upon future registrations, by overriding this method to always return ‘false’:  <pre> 'Phaser phaser = new Phaser() { protected boolean onAdvance(int phase, int parties) { return false;' }}</pre></td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>toString(): String</strong></td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Returns a string identifying this phaser, as well as its state.  The state, in brackets, includes the String ‘“phase &#x3D; “‘ followed by the phase number, ‘“parties &#x3D; “‘ followed by the number of registered parties, and ‘“arrived &#x3D; “‘ followed by the number of arrived parties.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>stateToString(long s): String</strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Implementation of toString and string-based error messages</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>releaseWaiters(int phase): void</strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Removes and signals threads from queue for phase.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>abortWait(int phase): int</strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Variant of releaseWaiters that additionally tries to remove any nodes no longer waiting for advance due to timeout or interrupt. Currently, nodes are removed only if they are at head of queue, which suffices to reduce memory footprint in most usages.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>internalAwaitAdvance(int phase, QNode node): int</strong></td>
<td align="center">private</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Possibly blocks and waits for phase to advance unless aborted. Call only on root phaser.</td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h4><h3 id="Phaser-QNode"><a href="#Phaser-QNode" class="headerlink" title="Phaser$QNode"></a><a href="./Phaser$QNode.html">Phaser$QNode</a></h3>
        <div id="react-support-footer-root"></div>
      </div>
    </div>
  </div>
</div>

    


    

    <!-- js vendors -->
    <script src="//code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lunr.js/2.1.0/lunr.min.js"></script>

    <!-- js source  -->
    <script src="/java-source-code-analysis/script/doc.js"></script>

    

  </body>
</html>
