<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Java Source Code Analysis |  </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    

    <!-- fonts -->
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,600,700" rel="stylesheet">

    <!-- stylesheets -->
    <link rel="stylesheet" href="/java-source-code-analysis/style/doc.css">

    <!-- favicon -->
    <link rel="icon" href="/java-source-code-analysis/favicon.ico">

    

  <meta name="generator" content="Hexo 6.2.0"></head>
  <body>

   <script>window.__INITIAL_STATE__ = {"page":{"path":"java/time/zone/ZoneRulesProvider.html","title":""},"data":{"navigation":{"logo":{"text":"Java 源码分析","type":"link","path":"index.html"}}},"config":{"timezone":"Asia/Shanghai","root":"/java-source-code-analysis/","time_format":"HH:mm:ss","theme":"doc","theme_config":{"swagger_ui":{"version":2,"permalinks":true,"api_explorer":true,"download":"Download specification","show_extensions":false,"deep_linking":true,"display_operation_id":false,"doc_expansion":"none"},"search":{"skip":false,"background":false,"route":"/lunr.json"},"favicon":"/favicon.ico"}}}</script>

    <div id="react-navigation-root"><div class="doc-navigation" data-reactroot=""><nav class="doc-navbar"><a href="/java-source-code-analysis/index.html" class="doc-navbar__logo"><img src="/java-source-code-analysis/images/logo.png" class="doc-navbar__logo__img"/><span class="doc-navbar__logo__text">Java 源码分析</span></a><i class="dc-icon dc-icon--close dc-icon--interactive doc-sidebar-close doc-navbar__sidebar-close doc-navbar__sidebar-close--desktop"></i><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-navbar__sidebar-toggle"></i></nav><nav class="doc-sidebar"><div class="doc-sidebar__vertical-menu"><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-sidebar-toggle--primary doc-sidebar__vertical-menu__item"></i><i class="dc-icon dc-icon--search dc-icon--interactive doc-sidebar__vertical-menu__item doc-sidebar__vertical-menu__item--primary"></i></div><div class="doc-sidebar-content"><div class="doc-sidebar__search-form"></div><ul class="doc-sidebar-list"></ul></div></nav></div></div>
    <div class="doc-content">
  <div class="dc-page">
    <div class="dc-card">
      <div id="react-search-results-root"></div>
      <div id="page-content" class="doc-formatting">
        <h2 id="ZoneRulesProvider"><a href="#ZoneRulesProvider" class="headerlink" title="ZoneRulesProvider"></a>ZoneRulesProvider</h2><table>
<thead>
<tr>
<th align="center">类名</th>
<th align="center">类型</th>
<th align="center">权限</th>
<th align="center">static</th>
<th align="center">final</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>java.time.zone.ZoneRulesProvider</strong></td>
<td align="center">abstract class</td>
<td align="center">public</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center"></td>
</tr>
</tbody></table>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">默认值</th>
<th align="center">权限</th>
<th align="center">static</th>
<th align="center">final</th>
<th align="center">volatile</th>
<th align="center">synchronized</th>
<th align="center">transient</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>PROVIDERS: CopyOnWriteArrayList&lt;ZoneRulesProvider&gt;</strong></td>
<td align="center">new CopyOnWriteArrayList&lt;&gt;()</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">The set of loaded providers.</td>
</tr>
<tr>
<td align="center"><strong>ZONES: ConcurrentMap&lt;String, ZoneRulesProvider&gt;</strong></td>
<td align="center">new ConcurrentHashMap&lt;&gt;(512, 0.75f, 2)</td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">The lookup from zone ID to provider.</td>
</tr>
</tbody></table>
<h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">权限</th>
<th align="center">static</th>
<th align="center">final</th>
<th align="center">volatile</th>
<th align="center">synchronized</th>
<th align="center">transient</th>
<th align="center">abstract</th>
<th align="left">描述</th>
<th align="left">异常</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>getAvailableZoneIds(): Set<String></strong></td>
<td align="center">public</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Gets the set of available zone IDs. <p> These IDs are the string form of a ‘ZoneId’.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>getRules(String zoneId, boolean forCaching): ZoneRules</strong></td>
<td align="center">public</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Gets the rules for the zone ID. <p> This returns the latest available rules for the zone ID. <p> This method relies on time-zone data provider files that are configured. These are loaded using a ‘ServiceLoader’. <p> The caching flag is designed to allow provider implementations to prevent the rules being cached in ‘ZoneId’. Under normal circumstances, the caching of zone rules is highly desirable as it will provide greater performance. However, there is a use case where the caching would not be desirable, see ‘#provideRules’.</td>
<td align="left">ZoneRulesException</td>
</tr>
<tr>
<td align="center"><strong>getVersions(String zoneId): ZoneRules&gt;</strong></td>
<td align="center">public</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Gets the history of rules for the zone ID. <p> Time-zones are defined by governments and change frequently. This method allows applications to find the history of changes to the rules for a single zone ID. The map is keyed by a string, which is the version string associated with the rules. <p> The exact meaning and format of the version is provider specific. The version must follow lexicographical order, thus the returned map will be order from the oldest known rules to the newest available rules. The default ‘TZDB’ group uses version numbering consisting of the year followed by a letter, such as ‘2009e’ or ‘2012f’. <p> Implementations must provide a result for each valid zone ID, however they do not have to provide a history of rules. Thus the map will always contain one element, and will only contain more than one element if historical rule information is available.</td>
<td align="left">ZoneRulesException</td>
</tr>
<tr>
<td align="center"><strong>getProvider(String zoneId): ZoneRulesProvider</strong></td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Gets the provider for the zone ID.</td>
<td align="left">ZoneRulesException</td>
</tr>
<tr>
<td align="center"><strong>registerProvider(ZoneRulesProvider provider): void</strong></td>
<td align="center">public</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Registers a zone rules provider. <p> This adds a new provider to those currently available. A provider supplies rules for one or more zone IDs. A provider cannot be registered if it supplies a zone ID that has already been registered. See the notes on time-zone IDs in ‘ZoneId’, especially the section on using the concept of a “group” to make IDs unique. <p> To ensure the integrity of time-zones already created, there is no way to deregister providers.</td>
<td align="left">ZoneRulesException</td>
</tr>
<tr>
<td align="center"><strong>registerProvider0(ZoneRulesProvider provider): void</strong></td>
<td align="center">private</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Registers the provider.</td>
<td align="left">ZoneRulesException</td>
</tr>
<tr>
<td align="center"><strong>refresh(): boolean</strong></td>
<td align="center">public</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Refreshes the rules from the underlying data provider. <p> This method allows an application to request that the providers check for any updates to the provided rules. After calling this method, the offset stored in any ‘ZonedDateTime’ may be invalid for the zone ID. <p> Dynamic update of rules is a complex problem and most applications should not use this method or dynamic rules. To achieve dynamic rules, a provider implementation will have to be written as per the specification of this class. In addition, instances of ‘ZoneRules’ must not be cached in the application as they will become stale. However, the boolean flag on ‘#provideRules(String, boolean)’ allows provider implementations to control the caching of ‘ZoneId’, potentially ensuring that all objects in the system see the new rules. Note that there is likely to be a cost in performance of a dynamic rules provider. Note also that no dynamic rules provider is in this specification.</td>
<td align="left">ZoneRulesException</td>
</tr>
<tr>
<td align="center"><strong>ZoneRulesProvider()</strong></td>
<td align="center">protected</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">Constructor.</td>
<td align="left"></td>
</tr>
<tr>
<td align="center"><strong>provideZoneIds(): Set<String></strong></td>
<td align="center">protected</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="left">SPI method to get the available zone IDs. <p> This obtains the IDs that this ‘ZoneRulesProvider’ provides. A provider should provide data for at least one zone ID. <p> The returned zone IDs remain available and valid for the lifetime of the application. A dynamic provider may increase the set of IDs as more data becomes available.</td>
<td align="left">ZoneRulesException</td>
</tr>
<tr>
<td align="center"><strong>provideRules(String zoneId, boolean forCaching): ZoneRules</strong></td>
<td align="center">protected</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="left">SPI method to get the rules for the zone ID. <p> This loads the rules for the specified zone ID. The provider implementation must validate that the zone ID is valid and available, throwing a ‘ZoneRulesException’ if it is not. The result of the method in the valid case depends on the caching flag. <p> If the provider implementation is not dynamic, then the result of the method must be the non-null set of rules selected by the ID. <p> If the provider implementation is dynamic, then the flag gives the option of preventing the returned rules from being cached in ‘ZoneId’. When the flag is true, the provider is permitted to return null, where null will prevent the rules from being cached in ‘ZoneId’. When the flag is false, the provider must return non-null rules.</td>
<td align="left">ZoneRulesException</td>
</tr>
<tr>
<td align="center"><strong>provideVersions(String zoneId): ZoneRules&gt;</strong></td>
<td align="center">protected</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center"><strong><font color='red'>是</font></strong></td>
<td align="left">SPI method to get the history of rules for the zone ID. <p> This returns a map of historical rules keyed by a version string. The exact meaning and format of the version is provider specific. The version must follow lexicographical order, thus the returned map will be order from the oldest known rules to the newest available rules. The default ‘TZDB’ group uses version numbering consisting of the year followed by a letter, such as ‘2009e’ or ‘2012f’. <p> Implementations must provide a result for each valid zone ID, however they do not have to provide a history of rules. Thus the map will contain at least one element, and will only contain more than one element if historical rule information is available. <p> The returned versions remain available and valid for the lifetime of the application. A dynamic provider may increase the set of versions as more data becomes available.</td>
<td align="left">ZoneRulesException</td>
</tr>
<tr>
<td align="center"><strong>provideRefresh(): boolean</strong></td>
<td align="center">protected</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="center">否</td>
<td align="left">SPI method to refresh the rules from the underlying data provider. <p> This method provides the opportunity for a provider to dynamically recheck the underlying data provider to find the latest rules. This could be used to load new rules without stopping the JVM. Dynamic behavior is entirely optional and most providers do not support it. <p> This implementation returns false.</td>
<td align="left">ZoneRulesException</td>
</tr>
</tbody></table>

        <div id="react-support-footer-root"></div>
      </div>
    </div>
  </div>
</div>

    


    

    <!-- js vendors -->
    <script src="//code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lunr.js/2.1.0/lunr.min.js"></script>

    <!-- js source  -->
    <script src="/java-source-code-analysis/script/doc.js"></script>

    

  </body>
</html>
